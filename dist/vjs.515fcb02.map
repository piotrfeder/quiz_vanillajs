{"version":3,"sources":["index.js"],"names":["quizId","urlCategories","urlQuestions","index","answer","quizQuestions","quizAnswers","Quizes","data","categories","trivia_categories","categoriesBox","document","querySelector","categoryLink","map","item","createElement","setAttribute","id","innerHTML","name","appendChild","clickHandle","ifChange","length","results","prevQuizBox","delPrev","Promise","resolve","reject","remove","createQuiz","answerClick","then","res","quiz","grab","url","quizAction","fetch","method","response","status","json","showCategories","changeLink","history","state","browserLink","getPath","window","location","pathname","split","pushState","categoryItem","querySelectorAll","chooseCat","addEventListener","e","itemAttr","target","getAttribute","link","scoreQuizBox","showQuizes","answers","answerId","parentNode","userAnswer","quizesBox","quizBox","quizTitle","question","i","correct_answer","incorrect_answers","quizQuestion","showScores","questionBox","correctClass"],"mappings":"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","file":"vjs.515fcb02.map","sourcesContent":["let quizId = 9;\r\nlet urlCategories = 'https://opentdb.com/api_category.php',\r\n    urlQuestions;\r\nlet index = 0;\r\nlet answer;\r\nlet quizQuestions = [];\r\nlet quizAnswers = 0;\r\n\r\nclass Quizes {\r\n\r\n    showCategories(data) {\r\n\r\n        let categories = data.trivia_categories,\r\n            categoriesBox = document.querySelector('.categories'),\r\n            categoryLink;\r\n\r\n        categories.map((item, index) => {\r\n\r\n            categoryLink = document.createElement('span');\r\n            categoryLink.setAttribute('href', item.id);\r\n            categoryLink.setAttribute('class', 'category-item');\r\n            categoryLink.setAttribute('data-id', item.id);\r\n            categoryLink.innerHTML = (item.name);\r\n            categoriesBox.appendChild(categoryLink)\r\n\r\n        })\r\n\r\n        clickHandle();\r\n    }\r\n\r\n    showQuizes(data, ifChange) {\r\n\r\n\r\n\r\n\r\n        if (quizQuestions.length == 0 || ifChange === true) {\r\n            quizQuestions = data.results;\r\n        }\r\n\r\n\r\n\r\n        let prevQuizBox = document.querySelector('.quiz-box') || [];\r\n\r\n\r\n\r\n\r\n        let delPrev = new Promise((resolve, reject) => {\r\n            if (prevQuizBox.length != 0) {\r\n                resolve(prevQuizBox.remove());\r\n            } else {\r\n                reject(createQuiz(quizQuestions), answerClick());\r\n            }\r\n        })\r\n\r\n\r\n\r\n\r\n        delPrev.then((res) => {\r\n\r\n            createQuiz(quizQuestions);\r\n        }).then(() => {\r\n            answerClick();\r\n        })\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nlet quiz = new Quizes();\r\n\r\n\r\n\r\n\r\nlet grab = (url, quizAction = '', ifChange = false) => {\r\n    fetch(url, {\r\n        method: 'GET'\r\n    }).then(response => {\r\n        if (response.status != 200) {}\r\n        response.json().then((data) => {\r\n            quizAction(data, ifChange);\r\n\r\n        })\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\ngrab(urlCategories, quiz.showCategories);\r\n\r\nlet changeLink = () => {\r\n    let quizId = history.state.id;\r\n\r\n    return urlQuestions = `https://opentdb.com/api.php?amount=20&category=${quizId}&type=multiple`;\r\n\r\n}\r\n\r\n\r\nlet browserLink = (id) => {\r\n\r\n    let getPath = window.location.pathname.split('/');\r\n    let quizId = {\r\n        id: id\r\n    };\r\n    if (getPath[1] === 'quiz') {\r\n        history.pushState(quizId, 'Quiz', id);\r\n    } else {\r\n        history.pushState(quizId, 'Quiz', 'quiz/' + id);\r\n    }\r\n\r\n}\r\n\r\n\r\nlet clickHandle = () => {\r\n    let categoryItem = document.querySelectorAll('.category-item');\r\n    let chooseCat = document.querySelector('.category-title');\r\n\r\n    for (item of categoryItem) {\r\n\r\n        item.addEventListener('click', (e) => {\r\n\r\n            let itemAttr = e.target.getAttribute('data-id');\r\n            chooseCat.innerHTML = e.target.innerHTML;\r\n            browserLink(itemAttr);\r\n            let link = changeLink();\r\n            quizQuestions = [];\r\n            quizAnswers = 0;\r\n            let scoreQuizBox = document.querySelector('.score-box') || [];\r\n            scoreQuizBox.length === 0 ? null : scoreQuizBox.remove();\r\n            index = 0;\r\n\r\n\r\n\r\n            grab(link, quiz.showQuizes, true);\r\n        }, false)\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nlet answerClick = () => {\r\n    let answers = document.querySelectorAll('.quiz-box p');\r\n\r\n    for (let answer of answers) {\r\n\r\n        answer.addEventListener('click', () => {\r\n\r\n            index = index + 1;\r\n\r\n            let link = changeLink();\r\n            answerId = answer.getAttribute('data-id');\r\n            let quizId = answer.parentNode.getAttribute('quiz-id');\r\n\r\n            quizQuestions[quizId].userAnswer = answerId;\r\n\r\n            quiz.showQuizes();\r\n\r\n\r\n\r\n        })\r\n    }\r\n}\r\n\r\nlet createQuiz = (quiz) => {\r\n    let quizesBox = document.querySelector('.quizes-box');\r\n    quizBox = document.createElement('div');\r\n    quizesBox.appendChild(quizBox);\r\n    quizBox.setAttribute('class', 'quiz-box');\r\n\r\n\r\n    if (index <= 19)\r\n\r\n    {\r\n        for (const item in quiz) {\r\n\r\n            if (item == index) {\r\n                quizBox.setAttribute('quiz-id', item);\r\n                quizTitle = document.createElement('h1');\r\n                quizTitle.innerHTML = (quiz[item].question);\r\n                quizBox.appendChild(quizTitle);\r\n\r\n                for (let i = 0; i < 4; i++) {\r\n\r\n\r\n                    if (i == 3) {\r\n                        answer = quiz[item].correct_answer;\r\n                    } else {\r\n                        answer = quiz[item].incorrect_answers[i];\r\n                    }\r\n\r\n                    quizQuestion = document.createElement('p');\r\n                    quizQuestion.setAttribute('data-id', answer)\r\n                    quizQuestion.innerHTML = (answer);\r\n                    quizBox.appendChild(quizQuestion);\r\n                }\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    } else {\r\n        showScores();\r\n    }\r\n\r\n\r\n}\r\n\r\nlet showScores = () => {\r\n    let quizesBox = document.querySelector('.quizes-box');\r\n    quizBox = document.createElement('div');\r\n    quizesBox.appendChild(quizBox);\r\n    quizBox.setAttribute('class', 'score-box');\r\n\r\n    let questionBox;\r\n    quizQuestions.map((item) => {\r\n\r\n        questionBox = document.createElement('div');\r\n        questionBox.setAttribute('class', 'question');\r\n        quizBox.appendChild(questionBox);\r\n        quizTitle = document.createElement('h1');\r\n        quizTitle.innerHTML = (item.question);\r\n        questionBox.appendChild(quizTitle);\r\n        let correctClass = 'incorrect';\r\n        for (let i = 0; i < 4; i++) {\r\n\r\n\r\n            if (i == 3) {\r\n                answer = item.correct_answer;\r\n            } else {\r\n                answer = item.incorrect_answers[i];\r\n            }\r\n\r\n            if (item.userAnswer === answer && item.userAnswer === item.correct_answer) {\r\n                correctClass = 'correct';\r\n                quizAnswers++;\r\n            } else if (item.userAnswer === answer && item.userAnswer != item.correct_answer) {\r\n                correctClass = 'incorrect';\r\n            } else {\r\n                correctClass = '';\r\n            }\r\n\r\n            quizQuestion = document.createElement('p');\r\n            quizQuestion.setAttribute('data-id', i)\r\n            quizQuestion.setAttribute('class', correctClass);\r\n            quizQuestion.innerHTML = (answer);\r\n            questionBox.appendChild(quizQuestion);\r\n        }\r\n\r\n\r\n    })\r\n\r\n\r\n}"]}